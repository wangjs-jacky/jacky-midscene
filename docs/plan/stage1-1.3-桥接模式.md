# 作业：桥接模式（Bridge Mode）深入学习

## 作业描述
学习桥接模式的概念和优势，安装配置 Chrome 扩展，掌握桥接模式的基本使用方法和配置选项。

## 学习目标
- 理解桥接模式的概念和优势
- 安装和配置 Chrome 扩展
- 学习桥接模式的基本使用（连接新标签页、连接当前标签页）
- 理解 WebSocket 通信机制
- 学习桥接模式的配置选项和安全注意事项

## 完成步骤

### 基础作业
1. [ ] 从 Chrome 应用商店安装 Midscene 扩展
2. [ ] 运行 `bridge-mode-demo/demo-new-tab.ts` 示例
3. [ ] 运行 `bridge-mode-demo/demo-current-tab.ts` 示例
4. [ ] 理解两种连接方式的区别和使用场景
5. [ ] 观察浏览器控制台和 Node.js 控制台的输出

### 实战作业 1 - 已登录网站操作
1. [ ] 在 Chrome 中手动登录一个网站（如 GitHub、Gmail）
2. [ ] 使用 `connectCurrentTab()` 连接当前标签页
3. [ ] 编写脚本执行自动化操作（如读取邮件、查看通知等）
4. [ ] 验证操作是否成功

### 实战作业 2 - 利用浏览器插件
1. [ ] 安装一个浏览器插件（如广告拦截器、翻译插件）
2. [ ] 使用桥接模式访问一个网站
3. [ ] 观察插件是否正常工作
4. [ ] 编写脚本验证插件效果（如验证广告是否被拦截）

### 实战作业 3 - YAML 脚本集成
1. [ ] 查看 `bridge-mode-demo/yaml-new-tab.yml` 示例
2. [ ] 创建一个 YAML 脚本，使用桥接模式
3. [ ] 运行 YAML 脚本，验证功能
4. [ ] 对比 YAML 脚本和 TypeScript 脚本的优缺点

## 完成状态
- [x] 未开始
- [ ] 进行中
- [ ] 已完成

## 完成时间
待完成

## 遇到的问题
（完成过程中记录遇到的问题）

## 解决方案
（记录问题的解决方案）

## 学习总结
（完成作业后的总结和收获）

## 相关资源
- 代码位置：`midscene-example/bridge-mode-demo/`
- [Midscene 文档 - Bridge Mode](https://midscenejs.com/zh)

## 思考问题
1. 桥接模式和 Playwright 模式的主要区别是什么？各自的适用场景是什么？
2. `connectNewTabWithUrl()` 和 `connectCurrentTab()` 的区别是什么？什么时候用哪个？
3. 为什么桥接模式可以复用浏览器的 cookies 和插件？这是如何实现的？
4. WebSocket 通信在桥接模式中的作用是什么？数据是如何在 Node.js 和浏览器之间传输的？
5. "man-in-the-loop" 自动化模式是什么意思？它解决了什么问题？
6. 桥接模式的安全注意事项有哪些？为什么需要配置 `allowRemoteAccess`？
7. 如果连接失败，可能的原因有哪些？如何排查连接问题？

## 扩展问题（附加题）
1. **挑战任务 1**：实现一个混合自动化脚本
2. **挑战任务 2**：创建一个远程控制工具
3. **挑战任务 3**：实现一个协作自动化工具
4. **研究任务**：深入理解桥接模式的实现

